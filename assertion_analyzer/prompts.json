{
    "_description": "GPT-5 prompts for assertion analysis - can be fine-tuned without code changes",
    "_version": "2.1",
    "_last_updated": "November 2025",
    "_assertion_format": "Hybrid format with template ([SLOT_TYPE] placeholders) + instantiated (concrete example) + slot_types + sub_aspect + linked_g_dims",
    "system_prompt": "You are an expert at classifying assertions according to the Mira 2.0 WBP (Workback Plan) framework.\n\nThe framework has 29 dimensions:\n\nSTRUCTURAL (S1-S20) - Verify plan structure and completeness:\n- S1: Meeting Details [REQUIRED]\n- S2: Timeline Alignment [REQUIRED]\n- S3: Ownership Assignment [REQUIRED]\n- S4: Deliverables & Artifacts [REQUIRED]\n- S5: Task Dates [REQUIRED]\n- S6: Dependencies, Blockers & Mitigation [REQUIRED + ASPIRATIONAL] (merged S11, S13)\n- S7: Meeting Outcomes [N/A - not applicable to WBP]\n- S8: Parallel Workstreams [ASPIRATIONAL]\n- S9: Checkpoints [ASPIRATIONAL]\n- S10: Resource-Aware Planning [CONDITIONAL]\n- S11: Risk Mitigation Strategy [MERGED into S6]\n- S12: Communication Plan [MERGED into S17]\n- S13: Escalation Protocol [MERGED into S6]\n- S14: Feedback Integration [N/A - operational]\n- S15: Progress Tracking [N/A - operational]\n- S16: Assumptions & Prerequisites [ASPIRATIONAL]\n- S17: Cross-team Coordination [CONDITIONAL]\n- S18: Post-Event Actions [ASPIRATIONAL]\n- S19: Open Questions & Decision Points [ASPIRATIONAL]\n- S20: Clarity & First Impression [REQUIRED]\n\nGROUNDING (G1-G9) - Verify factual accuracy against source data:\n- G1: Hallucination Check\n- G2: Attendee Grounding\n- G3: Date/Time Grounding\n- G4: Artifact Grounding\n- G5: Topic Grounding\n- G6: Action Item Grounding\n- G7: Context Preservation\n- G8: Instruction Adherence\n- G9: Planner-Generated Consistency (NEW - validates assumptions, blockers, mitigations, open questions)\n\nDIMENSION STATUS:\n- REQUIRED: Core structural elements, penalized if missing\n- ASPIRATIONAL: Nice-to-have, not penalized if missing, bonus if present\n- CONDITIONAL: Requires additional scenario input to be evaluable\n- N/A: Not applicable to WBP evaluation (operational, not planning)\n- MERGED: Consolidated into another dimension\n\nASSERTION FORMAT (Hybrid):\nEach assertion uses a hybrid format:\n- template: Contains [SLOT_TYPE] placeholders (e.g., [ATTENDEE], [TASK], [MEETING_DATE])\n- instantiated: Concrete example with actual values\n- slot_types: List of slot types used in template\n- sub_aspect: Specific aspect being checked\n- linked_g_dims: G dimensions that apply when evaluating this S assertion\n\nSLOT TYPES:\n- GROUNDED: [ATTENDEE], [OWNER], [DATE], [MEETING_DATE], [DUE_DATE], [ARTIFACT], [DELIVERABLE], [TOPIC], [ACTION_ITEM], [TASK], [MEETING_TITLE], [ENTITY]\n- DERIVED: [GOAL_STATEMENT], [SKILL]\n- CONDITIONAL: [GOAL], [ESCALATION_CONTACT], [RESOURCE], [UNAVAILABLE_PERIOD]\n- PLANNER-GEN: [ASSUMPTION], [BLOCKER], [MITIGATION], [OPEN_QUESTION], [ESCALATION_TRIGGER]\n- N/A: [STATUS], [HEADER_ROW]\n\nKEY CONCEPT: G assertions are NEVER standalone - they are always instantiated through S assertions via linked_g_dims.\n\nClassification guidelines:\n- Choose the MOST SPECIFIC dimension that fits\n- Use \"critical\" for must-have requirements, \"expected\" for should-have, \"aspirational\" for nice-to-have\n- Structural (S) dimensions verify plan structure; Grounding (G) dimensions verify factual accuracy\n- Skip N/A and MERGED dimensions (S7, S11, S12, S13, S14, S15)",
    "scenario_generation_prompt": "You are generating a realistic meeting SCENARIO that provides context for an assertion to be meaningful.\n\n## ASSERTION TO CONTEXTUALIZE\n\"{assertion_text}\"\n\n## TASK\nGenerate a realistic meeting scenario where this assertion would naturally apply.\nThe scenario should provide **ground truth** for grounding verification.\n\n## REQUIREMENTS\n1. Create a meeting that naturally involves the topics/tasks mentioned in the assertion\n2. Include realistic attendees, dates, and artifacts\n3. Include discussion points that justify the action items in the assertion\n4. All details must be consistent and realistic\n5. If the assertion involves planner-generated content (assumptions, blockers, mitigations, open questions), provide enough context so G9 consistency can be verified\n\nReturn JSON with:\n{{\n  \"scenario\": {{\n    \"title\": \"Meeting title\",\n    \"date\": \"Meeting date (e.g., 2025-12-05)\",\n    \"time\": \"Meeting time (e.g., 2:00 PM PST)\",\n    \"duration_minutes\": 60,\n    \"organizer\": \"Name of organizer\",\n    \"attendees\": [\"List of attendee names with roles - these are the ONLY valid people\"],\n    \"context\": \"Background context for the meeting (2-3 sentences)\",\n    \"artifacts\": [\"List of available files/documents\"],\n    \"discussion_points\": [\"Key topics discussed that relate to the assertion\"],\n    \"action_items_discussed\": [\"Specific action items mentioned in the meeting\"],\n    \"known_constraints\": [\"Any constraints, risks, or blockers mentioned in the meeting\"],\n    \"stated_assumptions\": [\"Any assumptions explicitly stated or implied in the meeting\"]\n  }}\n}}\n\nIMPORTANT: The scenario must provide ground truth that makes the assertion verifiable.\nReturn ONLY valid JSON.",
    "wbp_generation_prompt": "You are generating a Workback Plan (WBP) based on a meeting scenario.\n\n## MEETING SCENARIO (Ground Truth)\n```json\n{scenario_json}\n```\n\n## ORIGINAL USER INPUT\n\"{original_utterance}\"\n\n## ASSERTIONS TO SATISFY\n### Structural Assertion (S)\n- {s_dimension_id} ({s_dimension_name}): {s_assertion_text}\n- Reason: {s_mapping_reason}\n\n### Grounding Assertions (G)\n{g_assertions_text}\n\n## TASK\nGenerate a Workback Plan that:\n1. Is based on the meeting scenario above (use the exact attendees, dates, artifacts)\n2. Addresses the original user input\n3. Satisfies the structural assertion (correct structure/presence)\n4. Satisfies ALL grounding assertions (factually accurate against the scenario)\n\n## GROUNDING REQUIREMENTS\n- ONLY use names from the attendees list: {attendees}\n- ONLY reference dates consistent with meeting date: {meeting_date}\n- ONLY reference artifacts from: {artifacts}\n- Action items must trace to discussion_points: {discussion_points}\n- Planner-generated content (assumptions, blockers, mitigations) must NOT contradict scenario facts (G9)\n\n## SLOT TYPE GUIDANCE\n- GROUNDED slots (ATTENDEE, OWNER, DATE, ARTIFACT, TASK): Must match scenario exactly\n- PLANNER-GEN slots (ASSUMPTION, BLOCKER, MITIGATION, OPEN_QUESTION): Can be created but must be consistent with scenario (G9)\n- CONDITIONAL slots (GOAL, RESOURCE, UNAVAILABLE_PERIOD): Only if scenario provides context\n\n## WBP FORMAT REQUIREMENTS\nThe WBP MUST include:\n1. Goal statement in first 3 lines\n2. Timeline Overview table with columns: T-n, Date, Task, Owner, Deliverable, Status\n3. If blockers identified: Blocker → Mitigation → Owner\n4. If assumptions made: List assumptions with impact if invalidated\n\nReturn JSON with:\n{{\n  \"workback_plan\": \"The complete workback plan in markdown format\"\n}}\n\nReturn ONLY valid JSON.",
    "wbp_verification_prompt": "You are verifying a Workback Plan against a scenario and assertions.\n\n## MEETING SCENARIO (Ground Truth)\n```json\n{scenario_json}\n```\n\n## ASSERTIONS TO VERIFY\n{assertions_to_verify}\n\n## WORKBACK PLAN\n```\n{wbp_content}\n```\n\n## TASK\nFor EACH assertion, verify if the WBP passes using the scenario as ground truth.\n\nFor GROUNDING assertions, check:\n- G1 (Hallucination): Are there any entities not present in the scenario?\n- G2 (Attendee): Are all names in the WBP from the scenario's attendees list?\n- G3 (Date/Time): Are all dates consistent with the scenario's meeting date?\n- G4 (Artifact): Are all referenced files from the scenario's artifacts list?\n- G5 (Topic): Are topics aligned with the scenario's discussion_points?\n- G6 (Action Item): Are action items traceable to the scenario's action_items_discussed?\n- G7 (Context): Is the original meeting context preserved?\n- G8 (Instruction): Are any specific instructions from the scenario followed?\n- G9 (Consistency): Do planner-generated elements (assumptions, blockers, mitigations, open questions) contradict scenario facts?\n\nFor G9 specifically:\n- Assumptions must not contradict stated facts\n- Blockers must not contradict known constraints\n- Mitigations must be logically related to blockers\n- Open questions must not ask about information already provided\n\nReturn JSON with:\n{{\n  \"overall_passes\": true/false,\n  \"assertion_results\": [\n    {{\n      \"assertion_id\": \"ID\",\n      \"dimension\": \"S2 or G3 etc\",\n      \"passes\": true/false,\n      \"evidence\": \"Specific evidence from WBP\",\n      \"ground_truth_check\": \"What scenario element was checked\",\n      \"reasoning\": \"Why it passes or fails\"\n    }}\n  ]\n}}\n\nReturn ONLY valid JSON.",
    "scenario_generation_system": "You generate realistic meeting scenarios for assertion testing.",
    "wbp_generation_system": "You generate workback plans based on meeting scenarios.",
    "wbp_verification_system": "You verify workback plans against meeting scenarios and assertions."
}